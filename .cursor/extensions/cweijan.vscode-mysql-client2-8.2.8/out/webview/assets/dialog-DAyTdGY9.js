import{Teleport as e,computed as t,createBaseVNode as n,createBlock as r,createCommentVNode as i,createElementBlock as a,createSlots as o,createVNode as s,defineComponent as c,getCurrentInstance as l,inject as u,isFunction as d,mergeProps as f,nextTick as p,normalizeClass as m,normalizeStyle as h,onMounted as g,openBlock as _,provide as v,ref as y,renderSlot as b,resolveDynamicComponent as x,toDisplayString as S,unref as C,useSlots as w,watch as T,withCtx as E,withDirectives as D}from"./vscode-ByQLBi_r.js";import{ElFocusTrap as O,ElIcon as k,FOCUS_TRAP_INJECTION_KEY as A,Transition as j,UPDATE_MODEL_EVENT as M,_export_sfc as N,addUnit as P,buildProps as F,defaultNamespace as I,definePropType as L,isBoolean as R,isClient as z,useDeprecated as B,useId as V,useLocale as H,useNamespace as ee,useTimeoutFn as U,useZIndex as W,vShow as te,withInstall as G}from"./focus-trap-CSSWZImT.js";import{CloseComponents as K,ElOverlay as q,iconPropType as J,useDraggable as Y,useGlobalConfig as X,useLockscreen as Z,useSameTarget as ne}from"./notify-Bq8ZgKm0.js";import{isUndefined_default as re}from"./isUndefined-Cqoojwy1.js";const ie=(...e)=>t=>{e.forEach(e=>{d(e)?e(t):e.value=t})},Q=Symbol(`dialogInjectionKey`),$=F({center:Boolean,alignCenter:Boolean,closeIcon:{type:J},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:``},ariaLevel:{type:String,default:`2`}}),ae={close:()=>!0},oe=[`aria-level`],se=[`aria-label`],ce=[`id`],le=c({name:`ElDialogContent`}),ue=c({...le,props:$,emits:ae,setup(e){let o=e,{t:c}=H(),{Close:l}=K,{dialogRef:d,headerRef:f,bodyId:p,ns:g,style:v}=u(Q),{focusTrapRef:y}=u(A),w=t(()=>[g.b(),g.is(`fullscreen`,o.fullscreen),g.is(`draggable`,o.draggable),g.is(`align-center`,o.alignCenter),{[g.m(`center`)]:o.center}]),T=ie(y,d),D=t(()=>o.draggable),O=t(()=>o.overflow);return Y(d,f,D,O),(e,t)=>(_(),a(`div`,{ref:C(T),class:m(C(w)),style:h(C(v)),tabindex:`-1`},[n(`header`,{ref_key:`headerRef`,ref:f,class:m([C(g).e(`header`),{"show-close":e.showClose}])},[b(e.$slots,`header`,{},()=>[n(`span`,{role:`heading`,"aria-level":e.ariaLevel,class:m(C(g).e(`title`))},S(e.title),11,oe)]),e.showClose?(_(),a(`button`,{key:0,"aria-label":C(c)(`el.dialog.close`),class:m(C(g).e(`headerbtn`)),type:`button`,onClick:t[0]||=t=>e.$emit(`close`)},[s(C(k),{class:m(C(g).e(`close`))},{default:E(()=>[(_(),r(x(e.closeIcon||C(l))))]),_:1},8,[`class`])],10,se)):i(`v-if`,!0)],2),n(`div`,{id:C(p),class:m(C(g).e(`body`))},[b(e.$slots,`default`)],10,ce),e.$slots.footer?(_(),a(`footer`,{key:0,class:m(C(g).e(`footer`))},[b(e.$slots,`footer`)],2)):i(`v-if`,!0)],6))}});var de=N(ue,[[`__file`,`dialog-content.vue`]]);const fe=F({...$,appendToBody:Boolean,appendTo:{type:L(String),default:`body`},beforeClose:{type:L(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:`2`}}),pe={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[M]:e=>R(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},me=(e,n)=>{var r;let i=l(),a=i.emit,{nextZIndex:o}=W(),s=``,c=V(),u=V(),d=y(!1),f=y(!1),m=y(!1),h=y((r=e.zIndex)??o()),_,v,b=X(`namespace`,I),x=t(()=>{let t={},n=`--${b.value}-dialog`;return e.fullscreen||(e.top&&(t[`${n}-margin-top`]=e.top),e.width&&(t[`${n}-width`]=P(e.width))),t}),S=t(()=>e.alignCenter?{display:`flex`}:{});function C(){a(`opened`)}function w(){a(`closed`),a(M,!1),e.destroyOnClose&&(m.value=!1)}function E(){a(`close`)}function D(){v?.(),_?.(),e.openDelay&&e.openDelay>0?{stop:_}=U(()=>j(),e.openDelay):j()}function O(){_?.(),v?.(),e.closeDelay&&e.closeDelay>0?{stop:v}=U(()=>N(),e.closeDelay):N()}function k(){function t(e){e||(f.value=!0,d.value=!1)}e.beforeClose?e.beforeClose(t):O()}function A(){e.closeOnClickModal&&k()}function j(){z&&(d.value=!0)}function N(){d.value=!1}function F(){a(`openAutoFocus`)}function L(){a(`closeAutoFocus`)}function R(e){var t;(t=e.detail)?.focusReason===`pointer`&&e.preventDefault()}e.lockScroll&&Z(d);function B(){e.closeOnPressEscape&&k()}return T(()=>e.modelValue,t=>{t?(f.value=!1,D(),m.value=!0,h.value=re(e.zIndex)?o():h.value++,p(()=>{a(`open`),n.value&&(n.value.scrollTop=0)})):d.value&&O()}),T(()=>e.fullscreen,e=>{n.value&&(e?(s=n.value.style.transform,n.value.style.transform=``):n.value.style.transform=s)}),g(()=>{e.modelValue&&(d.value=!0,m.value=!0,D())}),{afterEnter:C,afterLeave:w,beforeLeave:E,handleClose:k,onModalClick:A,close:O,doClose:N,onOpenAutoFocus:F,onCloseAutoFocus:L,onCloseRequested:B,onFocusoutPrevented:R,titleId:c,bodyId:u,closed:f,style:x,overlayDialogStyle:S,rendered:m,visible:d,zIndex:h}},he=[`aria-label`,`aria-labelledby`,`aria-describedby`],ge=c({name:`ElDialog`,inheritAttrs:!1}),_e=c({...ge,props:fe,emits:pe,setup(a,{expose:c}){let l=a,u=w();B({scope:`el-dialog`,from:`the title slot`,replacement:`the header slot`,version:`3.0.0`,ref:`https://element-plus.org/en-US/component/dialog.html#slots`},t(()=>!!u.title));let d=ee(`dialog`),p=y(),g=y(),x=y(),{visible:S,titleId:T,bodyId:k,style:A,overlayDialogStyle:M,rendered:N,zIndex:P,afterEnter:F,afterLeave:I,beforeLeave:L,handleClose:R,onModalClick:z,onOpenAutoFocus:V,onCloseAutoFocus:H,onCloseRequested:U,onFocusoutPrevented:W}=me(l,p);v(Q,{dialogRef:p,headerRef:g,bodyId:k,ns:d,rendered:N,style:A});let G=ne(z),K=t(()=>l.draggable&&!l.fullscreen);return c({visible:S,dialogContentRef:x}),(t,a)=>(_(),r(e,{to:t.appendTo,disabled:t.appendTo===`body`?!t.appendToBody:!1},[s(j,{name:`dialog-fade`,onAfterEnter:C(F),onAfterLeave:C(I),onBeforeLeave:C(L),persisted:``},{default:E(()=>[D(s(C(q),{"custom-mask-event":``,mask:t.modal,"overlay-class":t.modalClass,"z-index":C(P)},{default:E(()=>[n(`div`,{role:`dialog`,"aria-modal":`true`,"aria-label":t.title||void 0,"aria-labelledby":t.title?void 0:C(T),"aria-describedby":C(k),class:m(`${C(d).namespace.value}-overlay-dialog`),style:h(C(M)),onClick:a[0]||=(...e)=>C(G).onClick&&C(G).onClick(...e),onMousedown:a[1]||=(...e)=>C(G).onMousedown&&C(G).onMousedown(...e),onMouseup:a[2]||=(...e)=>C(G).onMouseup&&C(G).onMouseup(...e)},[s(C(O),{loop:``,trapped:C(S),"focus-start-el":`container`,onFocusAfterTrapped:C(V),onFocusAfterReleased:C(H),onFocusoutPrevented:C(W),onReleaseRequested:C(U)},{default:E(()=>[C(N)?(_(),r(de,f({key:0,ref_key:`dialogContentRef`,ref:x},t.$attrs,{center:t.center,"align-center":t.alignCenter,"close-icon":t.closeIcon,draggable:C(K),overflow:t.overflow,fullscreen:t.fullscreen,"show-close":t.showClose,title:t.title,"aria-level":t.headerAriaLevel,onClose:C(R)}),o({header:E(()=>[t.$slots.title?b(t.$slots,`title`,{key:1}):b(t.$slots,`header`,{key:0,close:C(R),titleId:C(T),titleClass:C(d).e(`title`)})]),default:E(()=>[b(t.$slots,`default`)]),_:2},[t.$slots.footer?{name:`footer`,fn:E(()=>[b(t.$slots,`footer`)])}:void 0]),1040,[`center`,`align-center`,`close-icon`,`draggable`,`overflow`,`fullscreen`,`show-close`,`title`,`aria-level`,`onClose`])):i(`v-if`,!0)]),_:3},8,[`trapped`,`onFocusAfterTrapped`,`onFocusAfterReleased`,`onFocusoutPrevented`,`onReleaseRequested`])],46,he)]),_:3},8,[`mask`,`overlay-class`,`z-index`]),[[te,C(S)]])]),_:3},8,[`onAfterEnter`,`onAfterLeave`,`onBeforeLeave`])],8,[`to`,`disabled`]))}});var ve=N(_e,[[`__file`,`dialog.vue`]]);const ye=G(ve);export{ye as ElDialog};